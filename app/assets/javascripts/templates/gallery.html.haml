.filter-settings.form.clearfix

  .form-group.col-xs-4.col-sm-3.col-md-2
    %label{ for: 'limit' } Per page
    %select#limit.form-control{ 'ng-model' => 'ctrl.params.limit', 'ng-options' => 'e.i as e.i for e in ctrl.limitOptions' }

  .form-group.col-xs-4.col-sm-3.col-md-2
    %label{ for: 'order' } Sorting
    %select#order.form-control{ 'ng-model' => 'ctrl.params.order' }
      %option{ value: '' } default
      %option{ value: 'name-asc' } name &#8595;
      %option{ value: 'name-desc' } name &#8593;
      %option{ value: 'created_at-asc' } upload time &#8595;
      %option{ value: 'created_at-desc' } upload time &#8593;
      %option{ value: 'taken_at-asc' } time taken &#8595;
      %option{ value: 'taken_at-desc' } time taken &#8593;

%div{ 'ng-if' => 'ctrl.items.length != 0' }
  .text-center
    %pagination{ 'ng-if' => 'ctrl.items', 'ng-model' => 'ctrl.params.page',
      'total-items' => 'ctrl.items.count', 'items-per-page' => 'ctrl.params.limit',
      'max-size' => 5, 'previous-text' => '‹', 'next-text' => '›',
      'boundary-links' => 'true', 'first-text' => '«', 'last-text' => '»' }
    %a.pagination-status.hidden-xs{ href: '#', 'ng-hide' => 'ctrl.fetching', 'ng-click' => 'ctrl.fetch()', tooltip: 'Click to Refresh' }
      {{ctrl.items.count}} found
    %span.pagination-status{ 'ng-show' => 'ctrl.fetching' }
      %i.fa.fa-refresh.fa-spin

  .gallery.row
    .col-xs-6.col-sm-4.col-md-3.col-lg-2{ 'ng-repeat' => 'upload in ctrl.items track by upload.id' }
      .gallery-item{ 'ng-switch' => 'upload.state',
          'ng-click' => 'ctrl.selection.click($event, upload.id)',
          'ng-class' => '{ selected: ctrl.selection.isSelected(upload.id) }' }

        .processing.text-center{ 'ng-if' => 'upload.isLoading' }
          %i.fa.fa-4x.fa-spinner.fa-spin
        %img{ 'ng-switch-when' => 'ready', 'ng-src' => '{{ upload.gallery_url }}', 'while-loading' => '{{ ctrl.placeholderImageUrl }}', 'set-loading' => 'upload.isLoading = loading' }
        .processing.text-center{ 'ng-switch-when' => 'process' }
          %i.fa.fa-4x.fa-spinner.fa-spin
        %img{ 'ng-switch-when' => 'process', 'ng-src' => '{{ ctrl.placeholderImageUrl }}' }

  .text-center
    %pagination{ 'ng-if' => 'ctrl.items', 'ng-model' => 'ctrl.params.page',
      'total-items' => 'ctrl.items.count', 'items-per-page' => 'ctrl.params.limit',
      'max-size' => 5, 'previous-text' => '‹', 'next-text' => '›',
      'boundary-links' => 'true', 'first-text' => '«', 'last-text' => '»' }
    %a.pagination-status.hidden-xs{ href: '#', 'ng-hide' => 'ctrl.fetching', 'ng-click' => 'ctrl.fetch()', tooltip: 'Click to Refresh' }
      {{ctrl.items.count}} found
    %span.pagination-status{ 'ng-show' => 'ctrl.fetching' }
      %i.fa.fa-refresh.fa-spin

%p.text-center{ 'ng-if' => 'ctrl.items.count == 0' }
  There are no items in your library. Drag &amp; drop some files here to add
  them to your library.
