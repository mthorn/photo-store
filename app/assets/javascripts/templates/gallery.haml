.gallery-filters.row
  .col-xs-10.col-xs-offset-1{ 'ng-class' => '{ "col-sm-10": ctrl.queryOpen, "col-sm-2": ! ctrl.queryOpen, closed: ! ctrl.queryOpen }' }
    %uib-accordion
      %div{ 'uib-accordion-group' => true, 'is-open' => 'ctrl.queryOpen' }
        %uib-accordion-heading
          Options
          %i.pull-right.fa{ 'ng-class' => '{ "fa-chevron-down": ctrl.queryOpen, "fa-chevron-right": ! ctrl.queryOpen }' }
        %query-settings{ params: 'ctrl.params' }
          .form-group
            %label.control-label.col-sm-3{ for: 'limit' } Per page
            .col-sm-9
              %select#limit.form-control{ 'ng-model' => 'ctrl.params.limit', 'ng-options' => 'e.i as e.i for e in ctrl.limitOptions' }

%div{ 'ng-if' => 'ctrl.items.length != 0' }
  .text-center
    %ul.top{ 'uib-pagination' => true, 'ng-if' => 'ctrl.items', 'ng-model' => 'ctrl.params.page',
      'total-items' => 'ctrl.items.count', 'items-per-page' => 'ctrl.params.limit',
      'max-size' => 5, 'previous-text' => '‹', 'next-text' => '›',
      'boundary-links' => 'true', 'first-text' => '«', 'last-text' => '»' }
    %a.pagination-status.hidden-xs{ href: '#', 'ng-hide' => 'ctrl.fetching', 'ng-click' => 'ctrl.fetch()', 'uib-tooltip' => 'Click to Refresh' }
      {{ctrl.items.count}} found
    %span.pagination-status{ 'ng-show' => 'ctrl.fetching' }
      %i.fa.fa-refresh.fa-spin

  .gallery.row
    .gallery-gutters.col-xs-6.col-sm-4.col-md-3.col-lg-2{ 'ng-repeat' => 'upload in ctrl.items track by upload.id' }
      .gallery-item{ 'ng-switch' => 'upload.state',
          'ng-click' => 'ctrl.click($event, upload)',
          'ng-dblclick' => 'ctrl.dblclick($event, upload)',
          'ng-class' => '{ selected: ctrl.selection.isSelected(upload.id) }' }

        .dropdown{ 'uib-dropdown' => true }
          %a.icon-type{ href: '#', id: 'upload{{::upload.id}}', 'uib-dropdown-toggle' => true }
            %i.fa{ 'ng-class' => '{ "fa-camera": upload.type == "Photo", "fa-video-camera": upload.type == "Video" }' }
          %ul.dropdown-menu{ 'uib-dropdown-menu' => true, 'template-url' => 'upload_dropdown.html', 'aria-labelledby' => 'upload{{::upload.id}}' }

        .processing.text-center{ 'ng-if' => 'upload.isLoading' }
          %i.fa.fa-4x.fa-spinner.fa-spin
        %img{ 'ng-switch-when' => 'ready', 'ng-src' => '{{ upload.gallery_url }}', 'while-loading' => '{{ ctrl.placeholderImageUrl }}', 'set-loading' => 'upload.isLoading = loading' }
        .processing.text-center{ 'ng-switch-when' => 'process' }
          %i.fa.fa-4x.fa-spinner.fa-spin
        %img{ 'ng-switch-when' => 'process', 'ng-src' => '{{ ctrl.placeholderImageUrl }}' }

  .text-center
    %ul.top{ 'uib-pagination' => true, 'ng-if' => 'ctrl.items', 'ng-model' => 'ctrl.params.page',
      'total-items' => 'ctrl.items.count', 'items-per-page' => 'ctrl.params.limit',
      'max-size' => 5, 'previous-text' => '‹', 'next-text' => '›',
      'boundary-links' => 'true', 'first-text' => '«', 'last-text' => '»' }
    %a.pagination-status.hidden-xs{ href: '#', 'ng-hide' => 'ctrl.fetching', 'ng-click' => 'ctrl.fetch()', 'uib-tooltip' => 'Click to Refresh' }
      {{ctrl.items.count}} found
    %span.pagination-status{ 'ng-show' => 'ctrl.fetching' }
      %i.fa.fa-refresh.fa-spin

%p.text-center{ 'ng-if' => 'ctrl.items.count == 0 && ctrl.anyFilters()' }
  No items found.

%p.text-center{ 'ng-if' => 'ctrl.items.count == 0 && ! ctrl.anyFilters()' }
  There are no items in your library. Drag &amp; drop some files here to add
  them to your library.
